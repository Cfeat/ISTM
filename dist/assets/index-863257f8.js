import{s as J,d as v,L as ae,e as d,o as c,c as w,a as s,g as e,w as t,i as g,M as se,D as ne,m as r,F as q,t as R,j as h,B as U,N as oe,O as I,E as F,f as de,G as ue,P as ie,Q as re,n as pe,R as ve}from"./index-9f45e407.js";const ce={class:"teaching-container"},fe={class:"teaching-header"},_e={class:"teaching-content"},me={class:"card-header"},ge={class:"title"},be={class:"operations"},ye={class:"duration"},Ve={class:"card-tags"},ke={class:"dialog-footer"},we={__name:"management",setup(Q){const b=v(""),p=v(!1),i=v(!1),y=v(""),o=v({id:"",title:"",type:"",tags:[],duration:30,content:""}),a=v(null),V={title:[{required:!0,message:"请输入课程名称",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}],type:[{required:!0,message:"请选择课程类型",trigger:"change"}],duration:[{required:!0,message:"请输入课程时长",trigger:"blur"},{type:"number",min:1,max:120,message:"时长在 1 到 120 分钟之间",trigger:"blur"}],content:[{required:!0,message:"请输入教案内容",trigger:"blur"},{min:10,message:"内容不能少于 10 个字符",trigger:"blur"}]},f=v([{id:1,title:"基础体能训练",type:"普通",tags:["小班","室内"],duration:20,content:`1. 热身运动（5分钟）
2. 基础体能训练（10分钟）
3. 放松运动（5分钟）`},{id:2,title:"足球基础课程",type:"足球",tags:["大班","室内"],duration:45,content:`1. 基本足球技巧训练
2. 团队配合练习
3. 实战演练`},{id:3,title:"武术入门课",type:"武术",tags:["小班"],duration:30,content:`1. 基本站姿练习
2. 基础拳法训练
3. 套路学习`}]),N=ae(()=>f.value.filter(u=>u.title.toLowerCase().includes(b.value.toLowerCase()))),_=u=>{y.value="查看教案",i.value=!1,o.value=JSON.parse(JSON.stringify(u)),p.value=!0},D=()=>{i.value=!0,y.value="编辑教案"},j=()=>{a.value&&a.value.resetFields(),p.value=!1,i.value=!1,o.value={id:"",title:"",type:"",tags:[],duration:30,content:""}},G=()=>{y.value="新增教案",i.value=!0,p.value=!0,a.value&&a.value.resetFields(),o.value={id:Date.now(),title:"",type:"",tags:[],duration:30,content:""}},P=async()=>{if(a.value)try{await a.value.validate();const u=f.value.findIndex(l=>l.id===o.value.id);u>-1?f.value[u]={...o.value}:f.value.push({...o.value}),F.success("保存成功"),p.value=!1,i.value=!1}catch(u){return console.error("表单验证失败:",u),!1}},z=()=>{console.log("搜索关键词:",b.value)},H=u=>({普通:"",小班:"success",大班:"warning",室内:"info"})[u]||"",x=v(!1),T=v(null),K=(u,l)=>{switch(u){case"view":_(l);break;case"edit":_(l),D();break;case"delete":T.value=l.id,x.value=!0;break}},W=async()=>{try{const u=f.value.findIndex(l=>l.id===T.value);u>-1&&f.value.splice(u,1),F.success("删除成功"),x.value=!1,T.value=null}catch(u){F.error("删除失败："+u.message)}};return(u,l)=>{const E=d("el-icon"),L=d("el-input"),S=d("el-col"),k=d("el-button"),A=d("el-row"),B=d("el-dropdown-item"),X=d("el-dropdown-menu"),Y=d("el-dropdown"),Z=d("el-tag"),ee=d("el-card"),C=d("el-form-item"),m=d("el-option"),M=d("el-select"),le=d("el-input-number"),te=d("el-form"),O=d("el-dialog");return c(),w("div",ce,[s("div",fe,[e(A,{gutter:20},{default:t(()=>[e(S,{span:6},{default:t(()=>[e(L,{modelValue:b.value,"onUpdate:modelValue":l[0]||(l[0]=n=>b.value=n),placeholder:"搜索课程名称",clearable:"",onClear:z,onInput:z},{prefix:t(()=>[e(E,null,{default:t(()=>[e(g(se))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(S,{span:4},{default:t(()=>[e(k,{type:"primary",onClick:G},{default:t(()=>[e(E,null,{default:t(()=>[e(g(ne))]),_:1}),l[9]||(l[9]=r("新增教案 "))]),_:1})]),_:1})]),_:1})]),s("div",_e,[e(A,{gutter:20},{default:t(()=>[(c(!0),w(q,null,R(N.value,n=>(c(),h(S,{key:n.id,span:6},{default:t(()=>[e(ee,{class:"teaching-card",shadow:"hover"},{default:t(()=>[s("div",me,[s("span",ge,U(n.title),1),s("div",be,[s("span",ye,U(n.duration)+"分钟",1),e(Y,{trigger:"hover",onCommand:$=>K($,n)},{dropdown:t(()=>[e(X,null,{default:t(()=>[e(B,{command:"view"},{default:t(()=>l[10]||(l[10]=[r("查看")])),_:1}),e(B,{command:"edit"},{default:t(()=>l[11]||(l[11]=[r("编辑")])),_:1}),e(B,{command:"delete",divided:""},{default:t(()=>l[12]||(l[12]=[s("span",{style:{color:"#f56c6c"}},"删除",-1)])),_:1})]),_:1})]),default:t(()=>[e(E,{class:"more-icon"},{default:t(()=>[e(g(oe))]),_:1})]),_:2},1032,["onCommand"])])]),s("div",Ve,[(c(!0),w(q,null,R(n.tags,$=>(c(),h(Z,{key:$,size:"small",type:H($),class:"tag"},{default:t(()=>[r(U($),1)]),_:2},1032,["type"]))),128))])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),e(O,{title:y.value,modelValue:p.value,"onUpdate:modelValue":l[6]||(l[6]=n=>p.value=n),width:"70%"},{footer:t(()=>[e(k,{onClick:j},{default:t(()=>l[13]||(l[13]=[r("关闭")])),_:1}),i.value?I("",!0):(c(),h(k,{key:0,type:"primary",onClick:D},{default:t(()=>l[14]||(l[14]=[r("编辑")])),_:1})),i.value?(c(),h(k,{key:1,type:"success",onClick:P},{default:t(()=>l[15]||(l[15]=[r("保存")])),_:1})):I("",!0)]),default:t(()=>[e(te,{ref_key:"formRef",ref:a,model:o.value,rules:V,"label-width":"100px","status-icon":""},{default:t(()=>[e(C,{label:"课程名称",prop:"title"},{default:t(()=>[e(L,{modelValue:o.value.title,"onUpdate:modelValue":l[1]||(l[1]=n=>o.value.title=n),disabled:!i.value,placeholder:"请输入课程名称"},null,8,["modelValue","disabled"])]),_:1}),e(C,{label:"课程类型",prop:"type"},{default:t(()=>[e(M,{modelValue:o.value.type,"onUpdate:modelValue":l[2]||(l[2]=n=>o.value.type=n),disabled:!i.value,placeholder:"请选择课程类型",clearable:""},{default:t(()=>[e(m,{label:"普通",value:"普通"}),e(m,{label:"足球",value:"足球"}),e(m,{label:"武术",value:"武术"}),e(m,{label:"营养",value:"营养"}),e(m,{label:"康复",value:"康复"})]),_:1},8,["modelValue","disabled"])]),_:1}),e(C,{label:"课程标签",prop:"tags"},{default:t(()=>[e(M,{modelValue:o.value.tags,"onUpdate:modelValue":l[3]||(l[3]=n=>o.value.tags=n),multiple:"",disabled:!i.value,placeholder:"请选择课程标签",clearable:""},{default:t(()=>[e(m,{label:"小班",value:"小班"}),e(m,{label:"大班",value:"大班"}),e(m,{label:"室内",value:"室内"})]),_:1},8,["modelValue","disabled"])]),_:1}),e(C,{label:"课程时长",prop:"duration"},{default:t(()=>[e(le,{modelValue:o.value.duration,"onUpdate:modelValue":l[4]||(l[4]=n=>o.value.duration=n),min:1,max:120,disabled:!i.value,placeholder:"请输入课程时长(分钟)"},null,8,["modelValue","disabled"])]),_:1}),e(C,{label:"教案内容",prop:"content"},{default:t(()=>[e(L,{modelValue:o.value.content,"onUpdate:modelValue":l[5]||(l[5]=n=>o.value.content=n),type:"textarea",rows:10,disabled:!i.value,placeholder:"请输入教案详细内容..."},null,8,["modelValue","disabled"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title","modelValue"]),e(O,{modelValue:x.value,"onUpdate:modelValue":l[8]||(l[8]=n=>x.value=n),title:"删除确认",width:"30%",center:""},{footer:t(()=>[s("span",ke,[e(k,{onClick:l[7]||(l[7]=n=>x.value=!1)},{default:t(()=>l[16]||(l[16]=[r("取消")])),_:1}),e(k,{type:"danger",onClick:W},{default:t(()=>l[17]||(l[17]=[r("确定")])),_:1})])]),default:t(()=>[l[18]||(l[18]=s("span",null,"确定要删除该教案吗？此操作不可恢复。",-1))]),_:1},8,["modelValue"])])}}},xe=J(we,[["__scopeId","data-v-f29f91d6"]]);const Ce={class:"history-container"},$e={class:"nav-tabs"},he=["onClick"],Ue={key:0,class:"statistics-content"},Ie={class:"statistics-cards"},Ne={class:"stat-card"},De={class:"icon-wrapper green"},Te={class:"stat-card"},Ee={class:"icon-wrapper blue"},Le={class:"stat-card"},Se={class:"icon-wrapper orange"},Be={class:"stat-card"},Fe={class:"icon-wrapper purple"},qe={class:"analysis-section"},Re={class:"chart-container"},ze={class:"time-filter"},Ae={__name:"index",setup(Q){const b=[{key:"statistics",label:"课堂统计可视化"},{key:"plans",label:"全部教案"},{key:"created",label:"已创建AI课堂"},{key:"types",label:"课程类型筛选"}],p=v("statistics"),i=v("month"),y=o=>{p.value=o};return(o,a)=>{const V=d("el-icon"),f=d("el-radio-button"),N=d("el-radio-group");return c(),w("div",Ce,[s("div",$e,[(c(),w(q,null,R(b,_=>s("div",{key:_.key,class:ue(["tab-item",{active:p.value===_.key}]),onClick:D=>y(_.key)},U(_.label),11,he)),64))]),p.value==="statistics"?(c(),w("div",Ue,[s("div",Ie,[s("div",Ne,[a[1]||(a[1]=s("h3",null,"总计创建教案数",-1)),a[2]||(a[2]=s("div",{class:"number"},"7",-1)),s("div",De,[e(V,null,{default:t(()=>[e(g(ie))]),_:1})])]),s("div",Te,[a[3]||(a[3]=s("h3",null,"总计创建AI课堂数",-1)),a[4]||(a[4]=s("div",{class:"number"},"5",-1)),s("div",Ee,[e(V,null,{default:t(()=>[e(g(re))]),_:1})])]),s("div",Le,[a[5]||(a[5]=s("h3",null,"总计学生数",-1)),a[6]||(a[6]=s("div",{class:"number"},"230",-1)),s("div",Se,[e(V,null,{default:t(()=>[e(g(pe))]),_:1})])]),s("div",Be,[a[7]||(a[7]=s("h3",null,"总计教学时长",-1)),a[8]||(a[8]=s("div",{class:"number"},"~5h",-1)),s("div",Fe,[e(V,null,{default:t(()=>[e(g(ve))]),_:1})])])]),s("div",qe,[s("div",Re,[a[12]||(a[12]=s("h3",null,"易错类型占比",-1)),s("div",ze,[e(N,{modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=_=>i.value=_),size:"small"},{default:t(()=>[e(f,{label:"day"},{default:t(()=>a[9]||(a[9]=[r("近三天")])),_:1}),e(f,{label:"month"},{default:t(()=>a[10]||(a[10]=[r("近一月")])),_:1}),e(f,{label:"year"},{default:t(()=>a[11]||(a[11]=[r("近一年")])),_:1})]),_:1},8,["modelValue"])]),a[13]||(a[13]=de('<div class="pie-chart" data-v-19908fff></div><div class="legend" data-v-19908fff><div class="legend-item" data-v-19908fff><span class="dot blue" data-v-19908fff></span><span data-v-19908fff>技术性错误 40%</span></div><div class="legend-item" data-v-19908fff><span class="dot green" data-v-19908fff></span><span data-v-19908fff>规则性错误 35%</span></div><div class="legend-item" data-v-19908fff><span class="dot purple" data-v-19908fff></span><span data-v-19908fff>心理性错误 25%</span></div></div>',2))]),a[14]||(a[14]=s("div",{class:"chart-container"},[s("h3",null,"成功解决问题比例"),s("div",{class:"line-chart"})],-1))])])):I("",!0),p.value==="plans"?(c(),h(xe,{key:1})):I("",!0)])}}},Oe=J(Ae,[["__scopeId","data-v-19908fff"]]);export{Oe as default};
