import{s as j,u as D,d as v,r as I,y as M,e as m,o as h,c as x,g as s,w as n,a as l,E as b,m as c,i,B as _,F,t as L,G as S,H as y,D as C,I as z}from"./index-9f45e407.js";import{g as A,c as H}from"./classroom-048ca8c3.js";const O={class:"classroom-create"},W={class:"form-left"},J={class:"form-right"},K={class:"settings-section"},Q={class:"setting-item"},X={class:"setting-control"},Y={class:"ratio-value"},Z={class:"setting-item"},ee={class:"setting-label"},se={class:"setting-control"},te={class:"ratio-value"},le={class:"setting-item"},oe={class:"setting-label"},ne={class:"setting-control"},ae={class:"ratio-value"},re={class:"weather-section"},ue={class:"weather-options"},ie=["onClick"],de=["src","alt"],pe={class:"ai-upload"},me={class:"upload-area"},ce={class:"form-footer"},_e={__name:"create",setup(fe){const V=D(),f=v(null),g=v(!1),t=I({courseName:"",courseType:"",studentCount:"",duration:"",teachingGoals:"",teachingProcess:"",genderRatio:50,errorRate:50,responseTime:.5,weather:"sunny"}),N=[{label:"晴天",value:"sunny",icon:"/src/assets/weather/sunny.png"},{label:"多云",value:"cloudy",icon:"/src/assets/weather/cloudy.png"},{label:"微雨",value:"rainy",icon:"/src/assets/weather/rainy.png"},{label:"小雪",value:"snowy",icon:"/src/assets/weather/snowy.png"}],$={courseName:[{required:!0,message:"请输入课程名称",trigger:"blur"}],courseType:[{required:!0,message:"请选择课程类型",trigger:"blur"}],studentCount:[{required:!0,message:"请输入学生数目",trigger:"blur"},{type:"number",message:"学生数目必须为数字"},{type:"number",min:1,message:"学生数目必须大于0",trigger:"blur"}]},R=a=>{a==="plus"&&t.genderRatio<100?t.genderRatio+=10:a==="minus"&&t.genderRatio>0&&(t.genderRatio-=10)},k=a=>{a==="plus"&&t.errorRate<100?t.errorRate+=10:a==="minus"&&t.errorRate>0&&(t.errorRate-=10)},w=a=>{a==="plus"&&t.responseTime<10?t.responseTime+=.5:a==="minus"&&t.responseTime>0&&(t.responseTime-=.5)},G=a=>{t.weather=a},U=v([]),q=async()=>{try{const a=await A();U.value=a.data}catch{b.error("获取课程类型失败")}},B=async()=>{if(f.value)try{await f.value.validate(),g.value=!0;const a=await H(t);b.success("创建成功"),V.push({name:"ClassroomList",query:{id:a.data.id}})}catch(a){b.error(a.message||"创建失败")}finally{g.value=!1}},E=()=>{V.back()};return M(()=>{q()}),(a,e)=>{const d=m("el-input"),p=m("el-form-item"),u=m("el-icon"),r=m("el-button"),T=m("el-tooltip"),P=m("el-form");return h(),x("div",O,[s(P,{ref_key:"formRef",ref:f,model:t,rules:$,"label-width":"120px",class:"create-form"},{default:n(()=>[l("div",W,[e[12]||(e[12]=l("h3",null,[c("创建AI课堂"),l("span",{class:"required-tip"},"红点为必填项目")],-1)),s(p,{label:"课程名称",prop:"courseName"},{default:n(()=>[s(d,{modelValue:t.courseName,"onUpdate:modelValue":e[0]||(e[0]=o=>t.courseName=o),placeholder:"请输入课程名称"},null,8,["modelValue"])]),_:1}),s(p,{label:"课程类型",prop:"courseType"},{default:n(()=>[s(d,{modelValue:t.courseType,"onUpdate:modelValue":e[1]||(e[1]=o=>t.courseType=o),placeholder:"请选择课程类型"},null,8,["modelValue"])]),_:1}),s(p,{label:"学生数目",prop:"studentCount"},{default:n(()=>[s(d,{modelValue:t.studentCount,"onUpdate:modelValue":e[2]||(e[2]=o=>t.studentCount=o),modelModifiers:{number:!0},type:"number",placeholder:"请输入学生数目"},null,8,["modelValue"])]),_:1}),s(p,{label:"教学时长",prop:"duration"},{default:n(()=>[s(d,{modelValue:t.duration,"onUpdate:modelValue":e[3]||(e[3]=o=>t.duration=o),placeholder:"请输入教学时长"},null,8,["modelValue"])]),_:1}),s(p,{label:"教学目标",prop:"teachingGoals"},{default:n(()=>[s(d,{modelValue:t.teachingGoals,"onUpdate:modelValue":e[4]||(e[4]=o=>t.teachingGoals=o),type:"textarea",rows:4,placeholder:"请输入教学目标"},null,8,["modelValue"])]),_:1}),s(p,{label:"教学过程",prop:"teachingProcess"},{default:n(()=>[s(d,{modelValue:t.teachingProcess,"onUpdate:modelValue":e[5]||(e[5]=o=>t.teachingProcess=o),type:"textarea",rows:6,placeholder:"请输入教学过程"},null,8,["modelValue"])]),_:1})]),l("div",J,[l("div",K,[e[18]||(e[18]=l("h3",null,"学生详细信息设置",-1)),l("div",Q,[e[13]||(e[13]=l("span",{class:"setting-label"},"男/女",-1)),l("div",X,[s(r,{class:"control-btn minus-btn",onClick:e[6]||(e[6]=o=>R("minus")),round:""},{default:n(()=>[s(u,null,{default:n(()=>[s(i(y))]),_:1})]),_:1}),l("span",Y,_(t.genderRatio)+"%",1),s(r,{class:"control-btn plus-btn",onClick:e[7]||(e[7]=o=>R("plus")),round:""},{default:n(()=>[s(u,null,{default:n(()=>[s(i(C))]),_:1})]),_:1})])]),l("div",Z,[l("span",ee,[e[15]||(e[15]=c(" 随机错误案例概率设置 ")),s(T,{content:"表达多少比例的学生易出现错误",placement:"top"},{default:n(()=>e[14]||(e[14]=[l("small",null,"表达多少比例的学生易出现错误",-1)])),_:1})]),l("div",se,[s(r,{class:"control-btn minus-btn",onClick:e[8]||(e[8]=o=>k("minus")),round:""},{default:n(()=>[s(u,null,{default:n(()=>[s(i(y))]),_:1})]),_:1}),l("span",te,_(t.errorRate)+"%",1),s(r,{class:"control-btn plus-btn",onClick:e[9]||(e[9]=o=>k("plus")),round:""},{default:n(()=>[s(u,null,{default:n(()=>[s(i(C))]),_:1})]),_:1})])]),l("div",le,[l("span",oe,[e[17]||(e[17]=c(" 虚拟学生响应时间 (秒) ")),s(T,{content:"表达虚拟学生将在多久后做出响应",placement:"top"},{default:n(()=>e[16]||(e[16]=[l("small",null,"表达虚拟学生将在多久后做出响应",-1)])),_:1})]),l("div",ne,[s(r,{class:"control-btn minus-btn",onClick:e[10]||(e[10]=o=>w("minus")),round:""},{default:n(()=>[s(u,null,{default:n(()=>[s(i(y))]),_:1})]),_:1}),l("span",ae,_(t.responseTime)+"s",1),s(r,{class:"control-btn plus-btn",onClick:e[11]||(e[11]=o=>w("plus")),round:""},{default:n(()=>[s(u,null,{default:n(()=>[s(i(C))]),_:1})]),_:1})])])]),l("div",re,[e[19]||(e[19]=l("h3",null,"天气选择",-1)),l("div",ue,[(h(),x(F,null,L(N,o=>l("div",{key:o.value,class:S(["weather-item",{active:t.weather===o.value}]),onClick:ge=>G(o.value)},[l("img",{src:o.icon,alt:o.label},null,8,de),l("span",null,_(o.label),1)],10,ie)),64))])]),l("div",pe,[l("div",me,[s(u,null,{default:n(()=>[s(i(z))]),_:1}),e[20]||(e[20]=l("p",null,"将教案文件拖到此处自动识别",-1))])])])]),_:1},8,["model"]),l("div",ce,[s(r,{onClick:E},{default:n(()=>e[21]||(e[21]=[c("取消")])),_:1}),s(r,{type:"primary",style:{"background-color":"#95d475","border-color":"#95d475"},onClick:B,loading:g.value},{default:n(()=>e[22]||(e[22]=[c(" 创建课堂 ")])),_:1},8,["loading"])])])}}},ye=j(_e,[["__scopeId","data-v-72b82da5"]]);export{ye as default};
