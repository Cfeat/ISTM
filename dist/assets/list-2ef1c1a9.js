import{s as J,u as K,d as c,r as Q,y as W,e as s,z as X,o as m,c as x,a as b,g as t,w as o,E as p,i as Y,m as n,F as Z,t as ee,j as S,A as te,B as k,C as le,D as oe}from"./index-9f45e407.js";import{g as ae}from"./classroom-048ca8c3.js";const se={class:"classroom-list"},ne={class:"list-header"},re={class:"pagination"},ue={__name:"list",setup(ie){const f=K(),v=c(!1),_=c(1),y=c(10),h=c(0),w=c([]),z=c([]),r=Q({name:"",type:""}),$=async()=>{try{const a=await ae();z.value=a.data}catch{p.error("获取课程类型失败")}},d=async()=>{try{v.value=!0,w.value=Array(10).fill(null).map((a,e)=>({id:e+1,courseName:`示例课程${e+1}`,courseType:"篮球",studentCount:30,duration:45,createTime:"2024-02-20 10:00:00",status:e%2===0?"active":"draft"})),h.value=100}catch{p.error("获取课堂列表失败")}finally{v.value=!1}},V=()=>{_.value=1,d()},B=()=>{Object.keys(r).forEach(a=>{r[a]=""}),V()},E=a=>{y.value=a,d()},N=a=>{_.value=a,d()},D=()=>{f.push("/classroom/create")},U=a=>{f.push(`/classroom/detail/${a.id}`)},A=a=>{p.success("课堂开始")},F=a=>{f.push(`/classroom/edit/${a.id}`)},L=async a=>{try{await le.confirm("确定要删除该课堂吗？","提示",{type:"warning"}),p.success("删除成功"),d()}catch(e){e!=="cancel"&&p.error("删除失败")}};return W(()=>{$(),d()}),(a,e)=>{const M=s("el-icon"),u=s("el-button"),j=s("el-input"),g=s("el-form-item"),I=s("el-option"),P=s("el-select"),O=s("el-form"),T=s("el-card"),i=s("el-table-column"),R=s("el-tag"),q=s("el-table"),G=s("el-pagination"),H=X("loading");return m(),x("div",se,[b("div",ne,[e[5]||(e[5]=b("h2",{style:{color:"#95d475"}},"AI课堂列表",-1)),t(u,{type:"primary",style:{"background-color":"#95d475","border-color":"#95d475"},onClick:D},{default:o(()=>[t(M,null,{default:o(()=>[t(Y(oe))]),_:1}),e[4]||(e[4]=n("创建课堂 "))]),_:1})]),t(T,{class:"search-card"},{default:o(()=>[t(O,{inline:!0,model:r},{default:o(()=>[t(g,{label:"课程名称"},{default:o(()=>[t(j,{modelValue:r.name,"onUpdate:modelValue":e[0]||(e[0]=l=>r.name=l),placeholder:"请输入课程名称"},null,8,["modelValue"])]),_:1}),t(g,{label:"课程类型"},{default:o(()=>[t(P,{modelValue:r.type,"onUpdate:modelValue":e[1]||(e[1]=l=>r.type=l),placeholder:"请选择课程类型"},{default:o(()=>[(m(!0),x(Z,null,ee(z.value,l=>(m(),S(I,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(g,null,{default:o(()=>[t(u,{type:"primary",onClick:V},{default:o(()=>e[6]||(e[6]=[n("搜索")])),_:1}),t(u,{onClick:B},{default:o(()=>e[7]||(e[7]=[n("重置")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(T,{class:"list-content"},{default:o(()=>[te((m(),S(q,{data:w.value,border:""},{default:o(()=>[t(i,{prop:"courseName",label:"课程名称","min-width":"150"}),t(i,{prop:"courseType",label:"课程类型",width:"120"}),t(i,{prop:"studentCount",label:"学生数量",width:"100"},{default:o(({row:l})=>[n(k(l.studentCount)+"人 ",1)]),_:1}),t(i,{prop:"duration",label:"教学时长",width:"100"},{default:o(({row:l})=>[n(k(l.duration)+"分钟 ",1)]),_:1}),t(i,{prop:"createTime",label:"创建时间",width:"180"}),t(i,{prop:"status",label:"状态",width:"100"},{default:o(({row:l})=>[t(R,{type:l.status==="active"?"success":"info"},{default:o(()=>[n(k(l.status==="active"?"已发布":"草稿"),1)]),_:2},1032,["type"])]),_:1}),t(i,{label:"操作",width:"250",fixed:"right"},{default:o(({row:l})=>[t(u,{link:"",type:"primary",onClick:C=>U(l)},{default:o(()=>e[8]||(e[8]=[n("查看")])),_:2},1032,["onClick"]),t(u,{link:"",type:"primary",onClick:C=>A(l)},{default:o(()=>e[9]||(e[9]=[n("开始上课")])),_:2},1032,["onClick"]),t(u,{link:"",type:"primary",onClick:C=>F(l)},{default:o(()=>e[10]||(e[10]=[n("编辑")])),_:2},1032,["onClick"]),t(u,{link:"",type:"danger",onClick:C=>L(l)},{default:o(()=>e[11]||(e[11]=[n("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[H,v.value]]),b("div",re,[t(G,{"current-page":_.value,"onUpdate:currentPage":e[2]||(e[2]=l=>_.value=l),"page-size":y.value,"onUpdate:pageSize":e[3]||(e[3]=l=>y.value=l),total:h.value,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next",onSizeChange:E,onCurrentChange:N},null,8,["current-page","page-size","total"])])]),_:1})])}}},pe=J(ue,[["__scopeId","data-v-07a8f27b"]]);export{pe as default};
